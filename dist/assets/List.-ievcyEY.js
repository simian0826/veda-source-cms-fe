import{k as C,d as U,r as d,l as I,b as _,c as h,e as u,f as e,w as t,g as a,I as g,B as w,m as y,n as L,S as N,p as B,M as E,E as F,q as b,_ as A}from"./index.BVjvsxO0.js";import{R as D,C as m}from"./index.DFrYayqQ.js";import{F as p,a as M}from"./index.s0lPGtcz.js";import{T as P}from"./index.BA_LW4sj.js";import"./collapseMotion.DqC5XeSW.js";import"./css.BdeePvfe.js";import"./index.DNiIFMvR.js";import"./FolderOutlined.DEk9Ejh1.js";import"./index.CVitLXsw.js";const V=r=>C.get({url:"/contactUs/list",params:r}),$=r=>C.post({url:"/contactUs/delete/".concat(r)}),T=u("div",{class:"font-size-[20px] mb-4"},"Contact List",-1),q={class:"bg-white p-4"},O={class:"mb-4 flex justify-between"},R={class:"w-full"},H={key:0},W={class:"flex justify-end mt-2"},G=U({__name:"List",setup(r){const f=d(!1),l=d({page:1,pageSize:10,total:0}),n=d({}),k=[{title:"Name",dataIndex:"name",key:"name",width:200},{title:"Email",dataIndex:"email",width:200},{title:"Subject",dataIndex:"subject",width:200},{title:"Message",key:"message",dataIndex:"message"},{title:"Action",key:"action",width:100}],v=d(),j=i=>{E.confirm({title:"Warning?",icon:e(F),content:"Are you sure you want to delete this project?",onOk:async()=>{await $(Number(i))?(b.success("Delete data successfully"),c(!0)):b.error("Delete data failed")},onCancel(){}})},x=(i,s)=>{l.value.page=i,l.value.pageSize=s,c()},c=async(i=!1)=>{i&&(l.value.page=1,v.value=[],l.value.total=0,l.value.pageSize=10);try{f.value=!0;const s=await V({name:n.value.name,email:n.value.email,subject:n.value.subject,page:l.value.page,pageSize:l.value.pageSize});s.list.length>0&&v.value.push(...s.list),l.value.total=s.total,l.value.page++}finally{f.value=!1}},S=async()=>{c(!0)};return I(async()=>{c(!0)}),(i,s)=>(_(),h("div",null,[T,u("div",q,[u("div",O,[u("div",R,[e(a(M),{class:"w-full",layout:"inline",model:n.value,onFinish:S},{default:t(()=>[e(a(D),{class:"w-full"},{default:t(()=>[e(a(m),{span:6},{default:t(()=>[e(a(p),{label:"name",name:"name"},{default:t(()=>[e(a(g),{value:n.value.name,"onUpdate:value":s[0]||(s[0]=o=>n.value.name=o),placeholder:"please enter name"},null,8,["value"])]),_:1})]),_:1}),e(a(m),{span:6},{default:t(()=>[e(a(p),{label:"emai",name:"emai"},{default:t(()=>[e(a(g),{value:n.value.email,"onUpdate:value":s[1]||(s[1]=o=>n.value.email=o),placeholder:"Please enter email address"},null,8,["value"])]),_:1})]),_:1}),e(a(m),{span:6},{default:t(()=>[e(a(p),{label:"subject",name:"subject"},{default:t(()=>[e(a(g),{value:n.value.subject,"onUpdate:value":s[2]||(s[2]=o=>n.value.subject=o),placeholder:"Please enter email address"},null,8,["value"])]),_:1})]),_:1}),e(a(m),{span:6},{default:t(()=>[e(a(p),null,{default:t(()=>[e(a(w),{type:"primary","html-type":"submit"},{default:t(()=>[y("Search")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),e(a(N),{wrapperClassName:"w-full",spinning:f.value},{default:t(()=>[e(a(P),{columns:k,"row-key":"id","data-source":v.value,pagination:!1},{bodyCell:t(({column:o,record:z})=>[o.key==="action"?(_(),h("div",H,[e(a(w),{type:"link",onClick:J=>j(z.id)},{default:t(()=>[y(" Delete ")]),_:2},1032,["onClick"])])):L("",!0)]),_:1},8,["data-source"])]),_:1},8,["spinning"]),u("div",W,[e(a(B),{total:l.value.total,"show-total":()=>"total ".concat(l.value.total," items"),"show-size-changer":"","show-quick-jumper":"",current:l.value.page,"page-size":l.value.pageSize,onChange:x},null,8,["total","show-total","current","page-size"])])])]))}}),se=A(G,[["__file","E:/deloitte_project/bruno/cms-front-end/src/views/contactUs/List.vue"]]);export{se as default};
