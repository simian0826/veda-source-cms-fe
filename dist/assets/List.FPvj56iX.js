import{d as B,an as I,r as f,l as N,ad as S,b as r,c as u,e as i,f as t,w as l,g as s,m as n,ao as T,B as v,N as A,ae as D,n as E,p as q,M as O,E as V,q as j,_ as $}from"./index.DoJLWbDo.js";import{d as G,g as M}from"./index.C5KGtwuo.js";import{R as _}from"./index.DWDXHtZz.js";import{P as R}from"./PlusCircleOutlined.Dj2INd37.js";import{T as F}from"./index.Dfhhf_78.js";import"./collapseMotion.D7aQUxsH.js";import"./css.BdeePvfe.js";import"./FolderOutlined.BTgFSvxz.js";import"./index.K4845TjP.js";const H=i("div",{class:"font-size-[20px] mb-4"},"Project List",-1),U={class:"bg-white p-4"},W={class:"mb-4 flex justify-between"},J=i("span",{class:"mr-2"},[i("strong",null,"Type:")],-1),K={key:0,class:"flex flex-justify-start"},Q=["src"],X={key:1},Y={class:"flex justify-end mt-2"},Z=B({__name:"List",setup(ee){const k=I(),y=f(!1),p=f(""),e=f({page:1,pageSize:10,total:0}),C=[{title:"Title",dataIndex:"title",key:"title",width:250},{title:"Type",dataIndex:"type",width:50},{title:"Location",dataIndex:"location",width:150},{title:"Project Images",key:"projectImages",dataIndex:"projectImages"},{title:"Action",key:"action",width:250}],h=f(),w=(a,o)=>{k.push({path:"/project/detail",query:{id:a,mode:o}})},x=()=>{k.push({path:"/project/detail",query:{mode:"add"}})},b=a=>{O.confirm({title:"Warning?",icon:t(V),content:"Are you sure you want to delete this project?",onOk:async()=>{await G(Number(a))?(j.success("Delete project successfully"),d(!0)):j.error("Delete project failed")},onCancel(){}})},z=(a,o)=>{e.value.page=a,e.value.pageSize=o,d()},d=async(a=!1)=>{a&&(e.value.page=1,h.value=[],e.value.total=0,e.value.pageSize=10);try{y.value=!0;const o=await M({type:p.value,page:e.value.page,pageSize:e.value.pageSize});o.list.length>0&&h.value.push(...o.list),e.value.total=o.total,e.value.page++}finally{y.value=!1}},L=a=>{console.log(a.target.value),p.value=a.target.value,d(!0)};return N(async()=>{d(!0)}),(a,o)=>{const P=S("Spin");return r(),u("div",null,[H,i("div",U,[i("div",W,[i("div",null,[J,t(s(_).Group,{value:p.value,"onUpdate:value":o[0]||(o[0]=m=>p.value=m),"button-style":"solid",onChange:L},{default:l(()=>[t(s(_).Button,{value:""},{default:l(()=>[n("All")]),_:1}),t(s(_).Button,{value:"completed"},{default:l(()=>[n("Completed")]),_:1}),t(s(_).Button,{value:"onGoing"},{default:l(()=>[n("OnGoing")]),_:1})]),_:1},8,["value"])]),t(s(v),{type:"primary",onClick:x,icon:T(s(R))},{default:l(()=>[n(" New ")]),_:1},8,["icon"])]),t(P,{wrapperClassName:"w-full",spinning:y.value},{default:l(()=>[t(s(F),{columns:C,"row-key":"id","data-source":h.value,pagination:!1},{bodyCell:l(({column:m,record:g})=>[m.key==="projectImages"?(r(),u("div",K,[(r(!0),u(A,null,D(g.projectImages,c=>(r(),u("img",{class:"w-[100px] mr-4",src:c,key:c},null,8,Q))),128))])):m.key==="action"?(r(),u("div",X,[t(s(v),{type:"link",onClick:c=>w(g.id,"detail")},{default:l(()=>[n(" Detail ")]),_:2},1032,["onClick"]),t(s(v),{type:"link",onClick:c=>w(g.id,"edit")},{default:l(()=>[n(" Edit ")]),_:2},1032,["onClick"]),t(s(v),{type:"link",onClick:c=>b(g.id)},{default:l(()=>[n(" Delete ")]),_:2},1032,["onClick"])])):E("",!0)]),_:1},8,["data-source"])]),_:1},8,["spinning"]),i("div",Y,[t(s(q),{total:e.value.total,"show-total":()=>"total ".concat(e.value.total," items"),"show-size-changer":"","show-quick-jumper":"",current:e.value.page,"page-size":e.value.pageSize,onChange:z},null,8,["total","show-total","current","page-size"])])])])}}}),ue=$(Z,[["__file","E:/deloitte_project/bruno/cms-front-end/src/views/project/List.vue"]]);export{ue as default};
